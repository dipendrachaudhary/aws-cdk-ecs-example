"use strict";
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.LambdaFunctionProcessor = void 0;
const jsiiDeprecationWarnings = require("../.warnings.jsii.js");
const JSII_RTTI_SYMBOL_1 = Symbol.for("jsii.rtti");
/**
 * Use an AWS Lambda function to transform records.
 */
class LambdaFunctionProcessor {
    constructor(lambdaFunction, props = {}) {
        this.lambdaFunction = lambdaFunction;
        jsiiDeprecationWarnings._aws_cdk_aws_kinesisfirehose_DataProcessorProps(props);
        this.props = props;
    }
    bind(_scope, options) {
        jsiiDeprecationWarnings._aws_cdk_aws_kinesisfirehose_DataProcessorBindOptions(options);
        this.lambdaFunction.grantInvoke(options.role);
        return {
            processorType: 'Lambda',
            processorIdentifier: {
                parameterName: 'LambdaArn',
                parameterValue: this.lambdaFunction.functionArn,
            },
        };
    }
}
exports.LambdaFunctionProcessor = LambdaFunctionProcessor;
_a = JSII_RTTI_SYMBOL_1;
LambdaFunctionProcessor[_a] = { fqn: "@aws-cdk/aws-kinesisfirehose.LambdaFunctionProcessor", version: "1.148.0" };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGFtYmRhLWZ1bmN0aW9uLXByb2Nlc3Nvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImxhbWJkYS1mdW5jdGlvbi1wcm9jZXNzb3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBSUE7O0dBRUc7QUFDSCxNQUFhLHVCQUF1QjtJQU1sQyxZQUE2QixjQUFnQyxFQUFFLFFBQTRCLEVBQUU7UUFBaEUsbUJBQWMsR0FBZCxjQUFjLENBQWtCOztRQUMzRCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztLQUNwQjtJQUVNLElBQUksQ0FBQyxNQUFpQixFQUFFLE9BQWlDOztRQUM5RCxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFOUMsT0FBTztZQUNMLGFBQWEsRUFBRSxRQUFRO1lBQ3ZCLG1CQUFtQixFQUFFO2dCQUNuQixhQUFhLEVBQUUsV0FBVztnQkFDMUIsY0FBYyxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVzthQUNoRDtTQUNGLENBQUM7S0FDSDs7QUFwQkgsMERBcUJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgbGFtYmRhIGZyb20gJ0Bhd3MtY2RrL2F3cy1sYW1iZGEnO1xuaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSAnY29uc3RydWN0cyc7XG5pbXBvcnQgeyBEYXRhUHJvY2Vzc29yQmluZE9wdGlvbnMsIERhdGFQcm9jZXNzb3JDb25maWcsIERhdGFQcm9jZXNzb3JQcm9wcywgSURhdGFQcm9jZXNzb3IgfSBmcm9tICcuL3Byb2Nlc3Nvcic7XG5cbi8qKlxuICogVXNlIGFuIEFXUyBMYW1iZGEgZnVuY3Rpb24gdG8gdHJhbnNmb3JtIHJlY29yZHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBMYW1iZGFGdW5jdGlvblByb2Nlc3NvciBpbXBsZW1lbnRzIElEYXRhUHJvY2Vzc29yIHtcbiAgLyoqXG4gICAqIFRoZSBjb25zdHJ1Y3RvciBwcm9wcyBvZiB0aGUgTGFtYmRhRnVuY3Rpb25Qcm9jZXNzb3IuXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgcHJvcHM6IERhdGFQcm9jZXNzb3JQcm9wcztcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGxhbWJkYUZ1bmN0aW9uOiBsYW1iZGEuSUZ1bmN0aW9uLCBwcm9wczogRGF0YVByb2Nlc3NvclByb3BzID0ge30pIHtcbiAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gIH1cblxuICBwdWJsaWMgYmluZChfc2NvcGU6IENvbnN0cnVjdCwgb3B0aW9uczogRGF0YVByb2Nlc3NvckJpbmRPcHRpb25zKTogRGF0YVByb2Nlc3NvckNvbmZpZyB7XG4gICAgdGhpcy5sYW1iZGFGdW5jdGlvbi5ncmFudEludm9rZShvcHRpb25zLnJvbGUpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHByb2Nlc3NvclR5cGU6ICdMYW1iZGEnLFxuICAgICAgcHJvY2Vzc29ySWRlbnRpZmllcjoge1xuICAgICAgICBwYXJhbWV0ZXJOYW1lOiAnTGFtYmRhQXJuJyxcbiAgICAgICAgcGFyYW1ldGVyVmFsdWU6IHRoaXMubGFtYmRhRnVuY3Rpb24uZnVuY3Rpb25Bcm4sXG4gICAgICB9LFxuICAgIH07XG4gIH1cbn1cbiJdfQ==